{"version":3,"sources":["login.js"],"names":[],"mappings":";;;;;QAMgB,a,GAAA,a;QAaA,Q,GAAA,Q;QAsBA,S,GAAA,S;;AAtChB;;AACA;;AAJA;;;AAMO,SAAS,aAAT,GAAyB;AAC5B,QAAI,WAAW,uBAAS,UAAT,CAAf;AACA,QAAG,QAAH,EAAY;AACR,eAAO;AACH,4CADG;AAEH;AAFG,SAAP;AAIH,KALD,MAKM;AACF,eAAO;AACH;AADG,SAAP;AAGH;AACJ;AACM,SAAS,QAAT,CAAkB,GAAlB,EAAuB;AAC1B,WAAQ,oBAAU;AACN;AACA,iBAAS;AACL,wCADK;AAEL,sBAAS,IAAI;AAFR,SAAT;AAIA;AACA,YAAI,OAAJ,CAAY,UAAC,OAAD,EAAS,MAAT,EAAkB;AAC1B,uBAAW,YAAI;AACX,uCAAS,UAAT,EAAoB,IAAI,QAAxB;AACA,wBAAQ;AACJ,oDADI;AAEJ,8BAAS,IAAI;AAFT,iBAAR;AAIH,aAND,EAME,IANF;AAOH,SARD,EAQG,IARH,CAQQ,eAAK;AACT,qBAAS,GAAT;AACH,SAVD;AAWH,KAlBT;AAmBH;;AAEM,SAAS,SAAT,GAAqB;AACxB;AACA,8BAAY,UAAZ;AACA,WAAO;AACH;AADG,KAAP;AAGH","file":"login-compiled.js","sourcesContent":["/**\r\n * Created by Administrator on 2017/6/4 0004.\r\n */\r\nimport {LOGIN_ING,LOGIN_OUT,LOGIN_SUCCESS} from \"./actionTypes\"\r\nimport {getStore,removeStore,setStore} from \"../utils/storage\"\r\n\r\nexport function getLoginState() {\r\n    let username = getStore(\"username\")\r\n    if(username){\r\n        return {\r\n            type:LOGIN_SUCCESS,\r\n            username\r\n        }\r\n    }else {\r\n        return {\r\n            type:LOGIN_OUT\r\n        }\r\n    }\r\n}\r\nexport function login_in(obj) {\r\n    return  dispatch=>{\r\n                //pending  正在进行登录的状态\r\n                dispatch({\r\n                    type:LOGIN_ING,\r\n                    username:obj.username\r\n                })\r\n                //开始发送异步请求登录\r\n                new Promise((resolve,reject)=>{\r\n                    setTimeout(()=>{\r\n                        setStore('username',obj.username)\r\n                        resolve({\r\n                            type:LOGIN_SUCCESS,\r\n                            username:obj.username\r\n                        })\r\n                    },1000)\r\n                }).then(res=>{\r\n                    dispatch(res)\r\n                })\r\n            }\r\n}\r\n\r\nexport function login_out() {\r\n    //删除登录信息\r\n    removeStore(\"username\")\r\n    return {\r\n        type:LOGIN_OUT\r\n    }\r\n}"]}