{"version":3,"sources":["start.js"],"names":[],"mappings":"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","file":"start-compiled.js","sourcesContent":["'use strict';\n\nprocess.env.NODE_ENV = 'development';\n\n// Load environment variables from .env file. Suppress warnings using silent\n// if this file is missing. dotenv will never modify any environment variables\n// that have already been set.\n// https://github.com/motdotla/dotenv\nrequire('dotenv').config({silent: true});\n\nvar chalk = require('chalk');\nvar webpack = require('webpack');\nvar WebpackDevServer = require('webpack-dev-server');\nvar historyApiFallback = require('connect-history-api-fallback');\nvar httpProxyMiddleware = require('http-proxy-middleware');\nvar detect = require('detect-port');\nvar clearConsole = require('react-dev-utils/clearConsole');\nvar checkRequiredFiles = require('react-dev-utils/checkRequiredFiles');\nvar formatWebpackMessages = require('react-dev-utils/formatWebpackMessages');\nvar getProcessForPort = require('react-dev-utils/getProcessForPort');\nvar openBrowser = require('react-dev-utils/openBrowser');\nvar prompt = require('react-dev-utils/prompt');\nvar fs = require('fs');\nvar config = require('../config/webpack.config.dev');\nvar paths = require('../config/paths');\n\nvar useYarn = fs.existsSync(paths.yarnLockFile);\nvar cli = useYarn ? 'yarn' : 'npm';\nvar isInteractive = process.stdout.isTTY;\n\n// Warn and crash if required files are missing\nif (!checkRequiredFiles([paths.appHtml, paths.appIndexJs])) {\n  process.exit(1);\n}\n\n// Tools like Cloud9 rely on this.\nvar DEFAULT_PORT = parseInt(process.env.PORT, 10) || 3000;\nvar compiler;\nvar handleCompile;\n\n// You can safely remove this after ejecting.\n// We only use this block for testing of Create React App itself:\nvar isSmokeTest = process.argv.some(arg => arg.indexOf('--smoke-test') > -1);\nif (isSmokeTest) {\n  handleCompile = function (err, stats) {\n    if (err || stats.hasErrors() || stats.hasWarnings()) {\n      process.exit(1);\n    } else {\n      process.exit(0);\n    }\n  };\n}\n\nfunction setupCompiler(host, port, protocol) {\n  // \"Compiler\" is a low-level interface to Webpack.\n  // It lets us listen to some events and provide our own custom messages.\n  compiler = webpack(config, handleCompile);\n\n  // \"invalid\" event fires when you have changed a file, and Webpack is\n  // recompiling a bundle. WebpackDevServer takes care to pause serving the\n  // bundle, so if you refresh, it'll wait instead of serving the old one.\n  // \"invalid\" is short for \"bundle invalidated\", it doesn't imply any errors.\n  compiler.plugin('invalid', function() {\n    if (isInteractive) {\n      clearConsole();\n    }\n    console.log('Compiling...');\n  });\n\n  var isFirstCompile = true;\n\n  // \"done\" event fires when Webpack has finished recompiling the bundle.\n  // Whether or not you have warnings or errors, you will get this event.\n  compiler.plugin('done', function(stats) {\n    if (isInteractive) {\n      clearConsole();\n    }\n\n    // We have switched off the default Webpack output in WebpackDevServer\n    // options so we are going to \"massage\" the warnings and errors and present\n    // them in a readable focused way.\n    var messages = formatWebpackMessages(stats.toJson({}, true));\n    var isSuccessful = !messages.errors.length && !messages.warnings.length;\n    var showInstructions = isSuccessful && (isInteractive || isFirstCompile);\n\n    if (isSuccessful) {\n      console.log(chalk.green('Compiled successfully!'));\n    }\n\n    if (showInstructions) {\n      console.log();\n      console.log('The app is running at:');\n      console.log();\n      console.log('  ' + chalk.cyan(protocol + '://' + host + ':' + port + '/'));\n      console.log();\n      console.log('Note that the development build is not optimized.');\n      console.log('To create a production build, use ' + chalk.cyan(cli + ' run build') + '.');\n      console.log();\n      isFirstCompile = false;\n    }\n\n    // If errors exist, only show errors.\n    if (messages.errors.length) {\n      console.log(chalk.red('Failed to compile.'));\n      console.log();\n      messages.errors.forEach(message => {\n        console.log(message);\n        console.log();\n      });\n      return;\n    }\n\n    // Show warnings if no errors were found.\n    if (messages.warnings.length) {\n      console.log(chalk.yellow('Compiled with warnings.'));\n      console.log();\n      messages.warnings.forEach(message => {\n        console.log(message);\n        console.log();\n      });\n      // Teach some ESLint tricks.\n      console.log('You may use special comments to disable some warnings.');\n      console.log('Use ' + chalk.yellow('// eslint-disable-next-line') + ' to ignore the next line.');\n      console.log('Use ' + chalk.yellow('/* eslint-disable */') + ' to ignore all warnings in a file.');\n    }\n  });\n}\n\n// We need to provide a custom onError function for httpProxyMiddleware.\n// It allows us to log custom error messages on the console.\nfunction onProxyError(proxy) {\n  return function(err, req, res){\n    var host = req.headers && req.headers.host;\n    console.log(\n      chalk.red('Proxy error:') + ' Could not proxy request ' + chalk.cyan(req.url) +\n      ' from ' + chalk.cyan(host) + ' to ' + chalk.cyan(proxy) + '.'\n    );\n    console.log(\n      'See https://nodejs.org/api/errors.html#errors_common_system_errors for more information (' +\n      chalk.cyan(err.code) + ').'\n    );\n    console.log();\n\n    // And immediately send the proper error response to the client.\n    // Otherwise, the request will eventually timeout with ERR_EMPTY_RESPONSE on the client side.\n    if (res.writeHead && !res.headersSent) {\n        res.writeHead(500);\n    }\n    res.end('Proxy error: Could not proxy request ' + req.url + ' from ' +\n      host + ' to ' + proxy + ' (' + err.code + ').'\n    );\n  }\n}\n\nfunction addMiddleware(devServer) {\n  // `proxy` lets you to specify a fallback server during development.\n  // Every unrecognized request will be forwarded to it.\n  var proxy = require(paths.appPackageJson).proxy;\n  devServer.use(historyApiFallback({\n    // Paths with dots should still use the history fallback.\n    // See https://github.com/facebookincubator/create-react-app/issues/387.\n    disableDotRule: true,\n    // For single page apps, we generally want to fallback to /index.html.\n    // However we also want to respect `proxy` for API calls.\n    // So if `proxy` is specified, we need to decide which fallback to use.\n    // We use a heuristic: if request `accept`s text/html, we pick /index.html.\n    // Modern browsers include text/html into `accept` header when navigating.\n    // However API calls like `fetch()` won’t generally accept text/html.\n    // If this heuristic doesn’t work well for you, don’t use `proxy`.\n    htmlAcceptHeaders: proxy ?\n      ['text/html'] :\n      ['text/html', '*/*']\n  }));\n  if (proxy) {\n    if (typeof proxy !== 'string') {\n      console.log(chalk.red('When specified, \"proxy\" in package.json must be a string.'));\n      console.log(chalk.red('Instead, the type of \"proxy\" was \"' + typeof proxy + '\".'));\n      console.log(chalk.red('Either remove \"proxy\" from package.json, or make it a string.'));\n      process.exit(1);\n    }\n\n    // Otherwise, if proxy is specified, we will let it handle any request.\n    // There are a few exceptions which we won't send to the proxy:\n    // - /index.html (served as HTML5 history API fallback)\n    // - /*.hot-update.json (WebpackDevServer uses this too for hot reloading)\n    // - /sockjs-node/* (WebpackDevServer uses this for hot reloading)\n    // Tip: use https://jex.im/regulex/ to visualize the regex\n    var mayProxy = /^(?!\\/(index\\.html$|.*\\.hot-update\\.json$|sockjs-node\\/)).*$/;\n\n    // Pass the scope regex both to Express and to the middleware for proxying\n    // of both HTTP and WebSockets to work without false positives.\n    var hpm = httpProxyMiddleware(pathname => mayProxy.test(pathname), {\n      target: proxy,\n      logLevel: 'silent',\n      onProxyReq: function(proxyReq) {\n        // Browers may send Origin headers even with same-origin\n        // requests. To prevent CORS issues, we have to change\n        // the Origin to match the target URL.\n        if (proxyReq.getHeader('origin')) {\n          proxyReq.setHeader('origin', proxy);\n        }\n      },\n      onError: onProxyError(proxy),\n      secure: false,\n      changeOrigin: true,\n      ws: true,\n      xfwd: true\n    });\n    devServer.use(mayProxy, hpm);\n\n    // Listen for the websocket 'upgrade' event and upgrade the connection.\n    // If this is not done, httpProxyMiddleware will not try to upgrade until\n    // an initial plain HTTP request is made.\n    devServer.listeningApp.on('upgrade', hpm.upgrade);\n  }\n\n  // Finally, by now we have certainly resolved the URL.\n  // It may be /index.html, so let the dev server try serving it again.\n  devServer.use(devServer.middleware);\n}\n\nfunction runDevServer(host, port, protocol) {\n  var devServer = new WebpackDevServer(compiler, {\n    // Enable gzip compression of generated files.\n    compress: true,\n    clientLogLevel: 'none',\n    contentBase: paths.appSrc,//paths.appPublic,\n    // Enable hot reloading server. It will provide /sockjs-node/ endpoint\n    // for the WebpackDevServer client so it can learn when the files were\n    // updated. The WebpackDevServer client is included as an entry point\n    // in the Webpack development configuration. Note that only changes\n    // to CSS are currently hot reloaded. JS changes will refresh the browser.\n    hot: true,\n    // It is important to tell WebpackDevServer to use the same \"root\" path\n    // as we specified in the config. In development, we always serve from /.\n    publicPath: config.output.publicPath,\n    // WebpackDevServer is noisy by default so we emit custom message instead\n    // by listening to the compiler events with `compiler.plugin` calls above.\n    quiet: true,\n    // Reportedly, this avoids CPU overload on some systems.\n    // https://github.com/facebookincubator/create-react-app/issues/293\n    watchOptions: {\n      ignored: /node_modules/\n    },\n    // Enable HTTPS if the HTTPS environment variable is set to 'true'\n    https: protocol === \"https\",\n    host: host\n  });\n\n  // Our custom middleware proxies requests to /index.html or a remote API.\n  addMiddleware(devServer);\n\n  // Launch WebpackDevServer.\n  devServer.listen(port, err => {\n    if (err) {\n      return console.log(err);\n    }\n\n    if (isInteractive) {\n      clearConsole();\n    }\n    console.log(chalk.cyan('Starting the development server...'));\n    console.log();\n\n    openBrowser(protocol + '://' + host + ':' + port + '/');\n  });\n}\n\nfunction run(port) {\n  var protocol = process.env.HTTPS === 'true' ? \"https\" : \"http\";\n  var host = process.env.HOST || 'localhost';\n  setupCompiler(host, port, protocol);\n  runDevServer(host, port, protocol);\n}\n\n// We attempt to use the default port but if it is busy, we offer the user to\n// run on a different port. `detect()` Promise resolves to the next free port.\ndetect(DEFAULT_PORT).then(port => {\n  if (port === DEFAULT_PORT) {\n    run(port);\n    return;\n  }\n\n  if (isInteractive) {\n    clearConsole();\n    var existingProcess = getProcessForPort(DEFAULT_PORT);\n    var question =\n      chalk.yellow('Something is already running on port ' + DEFAULT_PORT + '.' +\n        ((existingProcess) ? ' Probably:\\n  ' + existingProcess : '')) +\n        '\\n\\nWould you like to run the app on another port instead?';\n\n    prompt(question, true).then(shouldChangePort => {\n      if (shouldChangePort) {\n        run(port);\n      }\n    });\n  } else {\n    console.log(chalk.red('Something is already running on port ' + DEFAULT_PORT + '.'));\n  }\n});\n"]}